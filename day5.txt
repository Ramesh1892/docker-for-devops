# ğŸ“… Docker Day 5 â€“ Volumes and Networking
# ğŸ‘¨â€ğŸ’» By: Ramesh Vutukuri
# ğŸ¯ Goal: Understand Docker volumes for persistent data and Docker networks for container-to-container communication

# ----------------------------------------------------------
# âœ… PART 1: Docker Volumes â€“ Store Persistent Data

# Create a volume
docker volume create mydata

# Inspect volume path (host-side storage location)
docker volume inspect mydata

# Run container with volume mounted
docker run -d --name voltest -v mydata:/app nginx

# Go inside container and create a file
docker exec -it voltest bash
cd /app
echo "Docker Volume Test" > volume.txt
exit

# Delete the container
docker rm -f voltest

# Verify volume still holds data
docker run -it --rm -v mydata:/app alpine cat /app/volume.txt
# âœ… Output: Docker Volume Test (data persisted even after container deletion)

# ----------------------------------------------------------
# âœ… PART 2: Docker Networks â€“ Container Communication

# Create a custom Docker network
docker network create devnet

# Run first container in that network
docker run -d --name app1 --network devnet nginx

# Run second container in the same network
docker run -dit --name app2 --network devnet busybox sh

# Go inside app2 and ping app1 by name
docker exec -it app2 sh
ping app1
exit

# âœ… Result: Successful ping using container DNS

# ----------------------------------------------------------
# âŒ Common Errors & Fixes

# â— Container exited immediately (BusyBox or Alpine)
# ğŸ”§ Use `-dit` and specify `sh` or `sleep` to keep it alive

# Example:
docker run -dit --name app2 --network devnet busybox sh

# â— Name conflict error
# ğŸ”§ Remove old container or use a different name
docker rm -f app2

# ----------------------------------------------------------
# ğŸ§  Interview Tips:

# Q: What is a Docker volume and why is it used?
# A: A volume is external persistent storage for containers. It's useful for logs, database data, configs, and user files.

# Q: How do containers communicate securely?
# A: Use a Docker custom bridge network. Containers in the same network can talk using container names due to Dockerâ€™s internal DNS.

# ----------------------------------------------------------
# âœ… Status: Docker Day 5 Completed
# ğŸ—‚ï¸ File saved: ~/docker-practice/day5.txt

